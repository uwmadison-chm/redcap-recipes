---
title: "EMA: Random Schedule (Automatic)"
description: "Implementing semi-random EMA sampling using calculated fields, events, and Automated Survey Invitations"
date: "2026-01-09"
categories: [ema, survey, scheduling, asi, calculated-fields]
---

## ! NOTE ! THIS IS PLACEHOLDER CONTENT

## Overview

**Problem:** You need random or semi-random sampling within defined windows, but want everything managed within REDCap without external scheduling tools.

**Solution:** Use calculated fields with a pseudo-random number generator (Linear Congruential Generator) to determine sample times, then set up events and ASIs for each possible sample.

## Prerequisites

* A longitudinal REDCap project
* An email field for participants
* Comfort with uploading CSV files (instruments, events, event mappings, ASIs)
* **Project Setup and Design** rights

## When to Use This Approach

This approach works well when:

- You need random/semi-random sampling within time windows
- The complete schedule can be determined at study enrollment
- You want everything self-contained in REDCap
- You're willing to invest upfront setup time for automated operation
- You can define explicit sampling windows (e.g., between 9-11 AM, 1-3 PM, 5-7 PM)

See the [EMA overview](../) for other approaches.

## Trade-offs

**Advantages:**
- Fully automated within REDCap
- Uses built-in ASI features (reminders, expiration, completion tracking)
- No need for external scheduling tools or API access
- Randomization happens at enrollment

**Drawbacks:**
- Complex initial setup with many calculated fields
- Requires many events (one per possible sample)
- Requires many ASIs (one per event)
- Limited flexibility - schedule is determined at enrollment
- Spacing constraints require explicit sample windows

## Steps

<!-- TODO: Add detailed implementation steps -->

### 1. Implement the Pseudo-Random Number Generator

This recipe uses a Linear Congruential Generator (LCG), which can be implemented using only calculated fields.

### 2. Create Calculated Fields for Sample Times

### 3. Upload Events and Event Mappings

### 4. Create Your EMA Survey

### 5. Upload ASI Configuration

### 6. Test with a Test Record

## Complete Example

<!-- TODO: Add example with LCG implementation and CSV files -->

## Notes and Tips

* The LCG provides pseudo-randomness - not cryptographically secure, but sufficient for EMA sampling
* Each participant gets a different random sequence based on their record ID or enrollment time
* You'll need one event per possible sample across the entire study period
* Consider using seed values based on record ID to ensure reproducible but varied schedules

## Troubleshooting

**Problem:** Random times are too close together or overlapping

**Solution:** Adjust your sampling windows to be mutually exclusive, or add logic to calculated fields to enforce minimum spacing

**Problem:** Too many events to manage

**Solution:** Consider the [flexible approach](../random_flexible/) instead, which doesn't require pre-defining all events

## Related Resources

* [Back to EMA Overview](../)
* [Linear Congruential Generator (Wikipedia)](https://en.wikipedia.org/wiki/Linear_congruential_generator)
* [Stopping Alerts and ASIs](../../stopping_alerts_asis/)
